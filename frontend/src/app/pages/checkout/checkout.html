<div class="app-shell">
  <div class="product-card" style="max-width:760px; width:100%">
    <div style="flex:1; padding:1.25rem;">
      <h1 class="product-title">Checkout</h1>
      <p class="product-desc">Completa tus datos para finalizar la compra. Recibirás un email de confirmación.</p>

      <form [formGroup]="checkoutForm" (ngSubmit)="onSubmit()" class="mt-6 form-card">

        <div class="mb-4">
          <label for="name" class="block text-sm font-semibold mb-2">Nombre</label>
          <input type="text" id="name" formControlName="name" class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 bg-transparent border-gray-700 text-sm">
          <div *ngIf="checkoutForm.get('name')?.invalid && checkoutForm.get('name')?.touched" class="text-red-400 text-sm mt-1">
            <span *ngIf="checkoutForm.get('name')?.hasError('required')">El nombre es requerido.</span>
            <span *ngIf="checkoutForm.get('name')?.hasError('pattern')">Sólo se permiten letras y espacios.</span>
          </div>
        </div>

        <div class="mb-4">
          <label for="last_name" class="block text-sm font-semibold mb-2">Apellido</label>
          <input type="text" id="last_name" formControlName="last_name" class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 bg-transparent border-gray-700 text-sm">
          <div *ngIf="checkoutForm.get('last_name')?.invalid && checkoutForm.get('last_name')?.touched" class="text-red-400 text-sm mt-1">
            <span *ngIf="checkoutForm.get('last_name')?.hasError('required')">El apellido es requerido.</span>
            <span *ngIf="checkoutForm.get('last_name')?.hasError('pattern')">Sólo se permiten letras y espacios.</span>
          </div>
        </div>

        <div class="mb-6">
          <label for="email" class="block text-sm font-semibold mb-2">Email</label>
          <input type="email" id="email" formControlName="email" class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 bg-transparent border-gray-700 text-sm">
          <div *ngIf="checkoutForm.get('email')?.invalid && checkoutForm.get('email')?.touched" class="text-red-400 text-sm mt-1">
            <span *ngIf="checkoutForm.get('email')?.hasError('required')">El email es requerido.</span>
            <span *ngIf="checkoutForm.get('email')?.hasError('email')">Por favor, introduce un email válido.</span>
            <span *ngIf="checkoutForm.get('email')?.hasError('pattern')">Email con formato inválido.</span>
          </div>
        </div>

        <button type="submit" [disabled]="checkoutForm.invalid || submitting" class="w-full bg-indigo-600 text-white px-4 py-3 rounded-lg hover:bg-indigo-700 disabled:opacity-50 transition-colors">
          <span *ngIf="!submitting">Finalizar Compra</span>
          <span *ngIf="submitting">Procesando...</span>
        </button>
      </form>
    </div>
  </div>
</div>
